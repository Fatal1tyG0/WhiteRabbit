# Архитектура работы модуля "Склад Москва"
**Оглавление**
[Краткое описание проекта](#Краткое-описание-проекта)
1. "Отправка товаров на склад" на стороне **Пользователя**
[1.1 Отправка товара на приемку](#1.1-Отправка-товара-на-приемку)
[1.2  Согласование приемки](#1.2-Согласование-приемки)
[1.3 Прайс лист услуг «Склад Москва»](#1.3-Прайс-лист-услуг-«Склад-Москва»)
[1.4 Инструкция по работе с разделом](#1.4-Инструкция-по-работе-с-разделом)
2. "Товары на складе" на стороне **Пользователя**"
[2.1 Мои товары](#2.1-Мои-товары)
4. Рабочая область  **Администратора** приложения
[1.5 Рабочая область приемки товаров](#1.5-Рабочая-область-приемки-товаров)



### Краткое описание проекта
> Фронтенд часть должна быть написана на react typescript. Серверная часть должна быть написана на tapyorm nest js node js mysql. Название модуля «Склад Москва». 
Приложение даёт каждому пользователю определенные права, которые разделяются на:
>1) Пользователь;
>2) Администратор;

>Модуль состоит из 4 разделов: 1) Отправка товаров на склад; 2) Товары на складе; 3) Работа с товарами на складе; 4) Отгрузка товаров.
В разделе «Отправка товаров на склад» есть следующие функции: 1.1) Отправка товара на приемку; 1.2) согласование приемки; 1.3) Прайс-лист; 1.4) Инструкция по работе с разделом. В разделе «Товары на складе» есть следующие функции: 2.1) Мои товары; 2.2) Мои остатки; 2.3) Заявка на забор возвратов; 2.4) Вывоз остатков. 2.5) Хранение остатков. В разделе «Работа с товарами на складе» есть следующие функции: 3.1) Заказ на работу с товаром; 3.2) Активные заказы; 3.3) Завершенные заказы; 3.4) Заказы на хранении. В разделе «Отгрузка товаров» есть следующие функции: 4.1) Готовые заказы к отгрузке; 4.2) График отгрузок; 4.3) Текущие заказы на отгрузку; 4.4) Завершенные отгрузки; 4.5) Прайс-лист отгрузок.



## 1. Раздел «Отправка товаров на склад» на стороне пользователя. 

### 1.1 Отправка товара на приемку
**Раздел** `ProductDirection`
**Компоненты** `Goods`, `TransportDelivery`,
**Описание**
>  Данная функция предназначена для помещения товаров на склад, указания характеристик груза пользователем, способ прибытия груза, дату и время его прибытия. По результатам выполнения данной функции пользовалю выставляется счет на оплату за оказанные услуги, такие как разгрузка товара, паллетирование, оплата доставки груза на склад (в случае выбора опции «Доставка товара на склад силами «WhiteRabbit”).

**Реализация компонента**
Пользователь заполняет форму, с вышеуказанными характеристиками, которая передается в функцию 1.2 «Согласование приемки товара». В форму возможно добавить неограниченное количество товаров, они имеют нумерацию (пример: товар #1, товар #2 и т.д)
*Описание формы (объекта)*
Объект включает в себя следующие свойства:
«Добавить товар в приемку»
1.1.1 Название товара;
1.1.2 Количество товара;
1.1.3 Вес товара; (общий), формула после вычисляет вес одной штуки;
1.1.4 Объем товара (общий), формула после вычисляет объем одной штуки;
1.1.5 Количество коробок с товаром; 
1.1.6 Доставка товара:
1.1.6.1 Доставка (забор) силами «WhiteRabbit”;
>В случае выбора пользователем данного свойства выводить дополнительную форму, в которой пользователь должен указать: 
- Адрес забора груза
- Номер доставки (если необходимо)
- Дату забора груза
- Время забора груза (промежуток времени)
- Контактное лицо для забора груза
1.1.6.2 Доставка своими силами;
>В случае выбора пользователем данного свойства выводить дополнительную форму, в которой пользователь должен указать:
- Дата прибытия груза
- Время прибытия груза
- Номер телефона водителя
- Номер транспортного средства 
- Доставка (Яндекс, достависта и пр.)
>В случае, когда пользователь организовывает доставку через сервисы такси, он должен поставить галочку в форме, напротив свойства, при проставлении галочки, пользователь получает комментарий следующего характера: Обращаем Ваше внимание, что в момент доставки груза на склад, Вам необходимо дополнить данные о водителе и транспортном средстве, что бы мы смогли сформировать пропуск на склад. Данное изменение Вы можете внести в разделе «Согласование приемки товара».

### 1.2  Согласование приемки 
**Раздел** `AgreementProduct`
**Описание**
>Данный раздел предназначен для мониторинга процесса согласование заведения остатков на склад пользователем. В ходе согласования пользователь может дополнить приемку (например когда доставка товаров осуществляется такси, в этом случае он может добавить номер телефона водителя, Марку машины, номер машины, ссылку на заказ доставки в такси), что бы администратор мог согласовать и организовать приемку. Пользователь может изменить характеристики приемки до подтверждения ее администратором, в последующем все изменения в приемку вносятся с утверждения администратора.

**Реализация компонента**
Данный компонент визуально реализован в виде таблицы, со строками, которые отображают следующие свойства приемки:
1.2.1 Номер заказа;
1.2.2 Количество товара (учитывается общее количество товаров, независимо от количества артикулов, формула выводит общее количество);
1.2.3 Общий вес заказа;
1.2.4 Общий объем заказа;
1.2.5 Дата прибытия груза;
1.2.6 Способ прибытия груза; 
1.2.7 Отменить согласование приемки;
>В случаем отмены приемки заказ полностью удаляется, и нигде не отображается.

1.2.8 Изменить заказ на приемку.
>В случае изменения - пользователю предлагается форма, в которой он может изменить ранее назначенные свойства. После изменения, администратору направляется уведомление об изменении, которые он должен утвердить. После внесения изменений статус «Заказа на приемку» меняется на «На утверждении», после утверждения администраторов «Согласовано». 
>кроме слежения и изменения (корректировки) ранее внесенных свойств данный раздел никакого функционала не несет. 

### 1.3 Прайс лист услуг «Склад Москва» 
**Раздел** `PriceFulfilment`
**Описание раздела**
>(включает в себя стоимость работ, стоимость расходных материалов, другим опции склада. Данный раздел имеет ориентирующий характер для пользователя).

**Реализация**
1.3.1 Текстовое описание «Склад Москва», рассказывается что это фулфилмент, для чего он нужен, и что в этом разделе расположены цены;
1.3.2 Таблица цен на расходные материалы;
1.3.3 Таблица цен на оказанные работы;
1.3.4 Таблица цен погрузочно/разгрузочные работы. 

### 1.4 Инструкция по работе с разделом
**Раздел** `ManualAcceptProduct`
*Описание*:
>Данный раздел несет в себе информативную часть для пользователя. В ней - он может получить информацию о том: для чего этот раздел. Как ему оформить заказ. Описаны ситуации на примерах, как и в каком случае оформить заказ. Как отслеживать заказ, как его и зачем изменять. В каком случае его стоит отменить. Какие статусы имеет заказ и что ему ждать после подтверждения администратора. 

**Реализация**
1.4.1 Видеоинструкция оформления заказа на приемку товаров
1.4.2 Текстовое описание оформления заказа на приемку
1.4.3 Видеоиснтрукция изменения заказа на приемку
1.4.4 Текстовое описание изменения заказа на приемку
1.4.5 Видеоинструкция о том, что далее происходит с товаров и что нужно сделать
1.4.6 текстовая инструкция о том, что далее происходит с товаров и что нужно сделать

## Раздел №2 "Товары на складе"

### 2.1 Мои товары
**Раздел** `MyGoods`
**Описание:**
>Данный раздел предназначен для работы с товарами (артикулами), где  


## Раздел №5 «Отправка товаров на склад» на стороне Администратора

>Описание функционала раздела для администратора. У администратора отсутствует компонент «ProductDirection» и «AgreementProduct». Вместо этого, у администратора отображается компонент «WorkingAreaAcceptProduct”. 

### 1.5 Рабочая область приемки товаров
**Компонент** `WorkingAreaAcceptProduct`
**Подкомпоненты** `ApproveOrder`, `CancelOrder`, `ChangeOrder`, `RecivedOrderAll`, `RecivedOrderNonAll`, `PaymentAcceptionGoods`
**Описание** 
>Данный компонент представляет из себя рабочую область администратора. Которая выполнена в виде таблицы, в которой отображены, с указанием компонента - заказы пользователей. Например: Согласование приемки товаров, Заказ на вывоз остатков и пр. В данной области администратор работает с заказами клиентов, а так-же принимает иные решения, в которых есть необходимость.

В рабочей области администратор имеет возможность:
1. создать заказ от имени пользователя (вызвать компонент «ProductDirection»), о чем имеется соответствующая кнопка. Данная форма имеет свойства как указаны ранее в компоненте, но при этом администратор может привязать к заказу на приемку пользователя (если он зарегистрирован и заполнил форму регистрации)+компания пользователя. Заказ от имени пользователя администратором создается с добавлением к форме: номера клиента (пользователя), осуществляется поиск по базе пользователей по имени пользователя, которое он указал ранее, либо по добавленной пользователем компании (которая приклепляется к пользователю);

2. Сводная таблица всех заказов на приемку, в которой отображается:
- Номер заказа
- Количество товара
- Итоговый вес заказа
- Итоговый объем заказа
**При нажатии на заказ администратор видит:**
4. Название каждого товара;
5. Количество каждого товара;
6. Итоговый вес каждого товара;
7. Итоговый объем каждого товара;
8. Способ доставки товара на склад и цена указанные вводны в нем.
9. Название компании, от которой пользователь разместил заказ.
После того, когда администратор ознакомился с заказом он может его утвердить.

Когда администратор нажимает на заказ, у него появляется компонент: «Утвердить заказ» - `ApproveOrder`, «Отказать в заказе» - `CancelOrder`, “изменить заказ» - `ChangeOrder`. 
При применении одного из компонентов - статус заказа сразу же приобретает его, и отображается как пользователю так и администратору.

У администратора для работы в данном разделе так же имеется компонент «Получен складом» - `RecivedOrderAll`, который перемещает товары со склада в раздел «Товары на складе». 
Данная кнопка так-же должна находится в рабочей области компонента.
Так-же у Администратора имеется в распоряжении кнопка «Получен складом с расхождением» - `RecivedOrderNonAll`. При нажатии на которую - администратор корректирует фактическое получение товара на складе (количество штук, коробок, название товара, объем, вес).
Так-же администратор имеет в своем распоряжении кнопку (компонент)  "Оплата приемка" - `PaymentAcceptionGoods`. 

>Пока администратор не направил пользователю счет на оплату - товары из «Заказа на приемку товаров», остатки товаров не переместятся в компонент пользователя «Остатки товара».


<!--stackedit_data:
eyJoaXN0b3J5IjpbLTU2NDgzMTc0NywtOTIzMDc5NzE2LC0xMz
Q0NTIwMDE3LDYwNjEyMDI2NiwtMTg3NzYxNjY2MSwxMjE4NjI1
NTM3LC0zMzk1NDcwMzgsLTIwODg3NDY2MTIsLTEyMzQ5NjM1Nz
QsMTIxMjc4MjYzMCw0OTQxMzk5MzgsMzE3MzQ2NTE4LC04OTA5
NTY4NDksLTgwNDQzNzUxNywtMzU0MzEyMjQ0LC0yMDg4NzQ2Nj
EyLC0xODExMzA4MjJdfQ==
-->